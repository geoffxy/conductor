<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WVRJT3RWC2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WVRJT3RWC2",{anonymize_ip:!0})</script><title data-react-helmet="true">Archive | Conductor</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://www.geoffreyyu.com/conductor//conductor/cli/archive"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Archive | Conductor"><meta data-react-helmet="true" name="description" content="Conductor&#x27;s archive functionality provides a convenient way to back up the task"><meta data-react-helmet="true" property="og:description" content="Conductor&#x27;s archive functionality provides a convenient way to back up the task"><link data-react-helmet="true" rel="icon" href="/conductor/img/ConductorFavicon64.png"><link data-react-helmet="true" rel="canonical" href="https://www.geoffreyyu.com/conductor//conductor/cli/archive"><link data-react-helmet="true" rel="alternate" href="https://www.geoffreyyu.com/conductor//conductor/cli/archive" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.geoffreyyu.com/conductor//conductor/cli/archive" hreflang="x-default"><link rel="stylesheet" href="/conductor/assets/css/styles.1d63995f.css">
<link rel="preload" href="/conductor/assets/js/runtime~main.4bee69b0.js" as="script">
<link rel="preload" href="/conductor/assets/js/main.76dae02b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/conductor/"><div class="navbar__logo"><img src="/conductor/img/ConductorLogo_Light.png" alt="Conductor" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/conductor/img/ConductorLogo_Dark.png" alt="Conductor" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Conductor</b></a><a href="https://github.com/geoffxy/conductor/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/conductor/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active menuLinkText_1J2g">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_2fq0" tabindex="0" href="/conductor/task-types">Task Types</a><button aria-label="Toggle the collapsible sidebar category &#x27;Task Types&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/task-types/run-experiment">run_experiment()</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/task-types/run-command">run_command()</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/task-types/combine">combine()</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/task-types/group">group()</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/task-types/run-experiment-group">run_experiment_group()</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_2fq0" tabindex="0" href="/conductor/directives">Directives</a><button aria-label="Toggle the collapsible sidebar category &#x27;Directives&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/directives/include">include()</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_2fq0" tabindex="0" href="/conductor/cli">Command Line Interface</a><button aria-label="Toggle the collapsible sidebar category &#x27;Command Line Interface&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/cli/run">Run</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/conductor/cli/archive">Archive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/cli/restore">Restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/cli/where">Where</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/cli/clean">Clean</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/cli/gc">Garbage Collect (GC)</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/conductor/python-support-library">Python Support Library</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Archive</h1></header><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cond archive </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">-h</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">-o OUTPUT</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">-l</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">task_identifier</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Conductor&#x27;s archive functionality provides a convenient way to back up the task
outputs of &quot;archivable&quot; tasks
(<a href="/conductor/task-types/run-experiment"><code>run_experiment()</code></a> and
<a href="/conductor/task-types/run-experiment-group"><code>run_experiment_group()</code></a>). Conductor
packages task outputs into a single <code>.tar.gz</code> file, which can then be backed up
or transferred. The <code>cond archive</code> command helps you create these archive files.
Conductor also provides a way to restore the task outputs in an archive through
<a href="/conductor/cli/restore"><code>cond restore</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="positional-arguments">Positional Arguments<a class="hash-link" href="#positional-arguments" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="task_identifier"><code>task_identifier</code><a class="hash-link" href="#task_identifier" title="Direct link to heading">â€‹</a></h3><p><strong>Type:</strong> String (optional)</p><p>The task identifier of the task you want to archive. By design, Conductor only
archives experiment-based tasks (<code>run_experiment()</code> and
<code>run_experiment_group()</code>). Thus, during the archive process, Conductor will only
archive the experiment-based tasks in the transitive closure of
<code>task_identifier</code> (i.e., only its dependencies which are experiments). The idea
is that you should be able to regenerate all other task outputs as long as you
have the original experiment results.</p><p>The <code>task_identifier</code> argument is optional. If you do not specify a task,
Conductor will archive <em>all</em> archivable task outputs.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="optional-arguments">Optional Arguments<a class="hash-link" href="#optional-arguments" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="-o-or---output"><code>-o</code> or <code>--output</code><a class="hash-link" href="#-o-or---output" title="Direct link to heading">â€‹</a></h3><p><strong>Usage:</strong> <code>-o OUTPUT</code> or <code>--output OUTPUT</code></p><p>The path (and optionally file name) where the output archive should be saved.
The path must exist. This argument is optional. If unspecified, Conductor will
save the archive in its output directory (<code>cond-out</code>).</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="-l-or---latest"><code>-l</code> or <code>--latest</code><a class="hash-link" href="#-l-or---latest" title="Direct link to heading">â€‹</a></h3><p>If set, Conductor will only archive the latest (most recent) output version of
the requested tasks. By default, Conductor will archive all output versions of
the archivable tasks.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="-h-or---help"><code>-h</code> or <code>--help</code><a class="hash-link" href="#-h-or---help" title="Direct link to heading">â€‹</a></h3><p>Prints a help message that provides details about how to use the <code>cond archive</code>
subcommand.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="usage-examples">Usage Examples<a class="hash-link" href="#usage-examples" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_K1bP language-bash theme-code-block"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Create an archive of all existing archivable task outputs.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cond archive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Archive all experiment task outputs of //experiments:run_benchmark and its</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># dependencies.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cond archive //experiments:run_benchmark</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create an archive of only the latest versions of each archivable task output.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cond archive --latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create an archive of all existing archivable task outputs and save it as</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># &quot;my_archive.tar.gz&quot;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ cond archive --output my_archive.tar.gz</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/geoffxy/conductor/edit/master/website/docs/cli/archive.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/conductor/cli/run"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Run</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/conductor/cli/restore"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Restore</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#positional-arguments" class="table-of-contents__link toc-highlight">Positional Arguments</a><ul><li><a href="#task_identifier" class="table-of-contents__link toc-highlight"><code>task_identifier</code></a></li></ul></li><li><a href="#optional-arguments" class="table-of-contents__link toc-highlight">Optional Arguments</a><ul><li><a href="#-o-or---output" class="table-of-contents__link toc-highlight"><code>-o</code> or <code>--output</code></a></li><li><a href="#-l-or---latest" class="table-of-contents__link toc-highlight"><code>-l</code> or <code>--latest</code></a></li><li><a href="#-h-or---help" class="table-of-contents__link toc-highlight"><code>-h</code> or <code>--help</code></a></li></ul></li><li><a href="#usage-examples" class="table-of-contents__link toc-highlight">Usage Examples</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Geoffrey Yu.</div></div></div></footer></div>
<script src="/conductor/assets/js/runtime~main.4bee69b0.js"></script>
<script src="/conductor/assets/js/main.76dae02b.js"></script>
</body>
</html>