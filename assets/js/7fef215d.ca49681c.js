"use strict";(self.webpackChunkconductor=self.webpackChunkconductor||[]).push([[349],{5254:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var s=t(4848),i=t(8453);const r={title:"Run",id:"run"},c=void 0,a={id:"cli/run",title:"Run",description:"Runs the task identified by task_identifier, along with its dependencies.",source:"@site/docs/cli/run.md",sourceDirName:"cli",slug:"/cli/run",permalink:"/conductor/cli/run",draft:!1,unlisted:!1,editUrl:"https://github.com/geoffxy/conductor/edit/master/website/docs/cli/run.md",tags:[],version:"current",frontMatter:{title:"Run",id:"run"},sidebar:"docs",previous:{title:"Command Line Interface",permalink:"/conductor/cli"},next:{title:"Archive",permalink:"/conductor/cli/archive"}},o={},d=[{value:"Positional Arguments",id:"positional-arguments",level:2},{value:"<code>task_identifier</code>",id:"task_identifier",level:3},{value:"Optional Arguments",id:"optional-arguments",level:2},{value:"<code>-a</code> or <code>--again</code>",id:"-a-or---again",level:3},{value:"<code>-c</code> or <code>--at-least</code>",id:"-c-or---at-least",level:3},{value:"<code>--this-commit</code>",id:"--this-commit",level:3},{value:"<code>-e</code> or <code>--stop-early</code>",id:"-e-or---stop-early",level:3},{value:"<code>-j</code> or <code>--jobs</code>",id:"-j-or---jobs",level:3},{value:"<code>--check</code>",id:"--check",level:3},{value:"<code>-h</code> or <code>--help</code>",id:"-h-or---help",level:3},{value:"Usage Examples",id:"usage-examples",level:2}];function l(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cond run [-h] [-a] [-c COMMIT] [--this-commit] [-e] [-j [JOBS]] task_identifier\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Runs the task identified by ",(0,s.jsx)(n.code,{children:"task_identifier"}),", along with its dependencies.\nConductor will ensure that all dependencies (and their dependencies, and so on)\ncomplete successfully before launching the task itself."]}),"\n",(0,s.jsxs)(n.p,{children:["If any tasks in ",(0,s.jsx)(n.code,{children:"task_identifier"}),"'s transitive closure fail, Conductor will\nstill attempt to run as many of the remaining tasks as possible. Any tasks that\ncannot run because one of their dependencies failed is skipped. Conductor will\nreport which tasks failed and which were skipped."]}),"\n",(0,s.jsx)(n.h2,{id:"positional-arguments",children:"Positional Arguments"}),"\n",(0,s.jsx)(n.h3,{id:"task_identifier",children:(0,s.jsx)(n.code,{children:"task_identifier"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Type:"})," String (required)"]}),"\n",(0,s.jsx)(n.p,{children:"The task identifier of the task that you want to run."}),"\n",(0,s.jsx)(n.h2,{id:"optional-arguments",children:"Optional Arguments"}),"\n",(0,s.jsxs)(n.h3,{id:"-a-or---again",children:[(0,s.jsx)(n.code,{children:"-a"})," or ",(0,s.jsx)(n.code,{children:"--again"})]}),"\n",(0,s.jsxs)(n.p,{children:["By default, Conductor will use cached results for certain tasks if they exist\n(see the reference for ",(0,s.jsx)(n.a,{href:"/conductor/task-types/run-experiment",children:(0,s.jsx)(n.code,{children:"run_experiment()"})}),").\nSetting this flag will make Conductor run all the relevant tasks again,\nregardless of the cache."]}),"\n",(0,s.jsxs)(n.h3,{id:"-c-or---at-least",children:[(0,s.jsx)(n.code,{children:"-c"})," or ",(0,s.jsx)(n.code,{children:"--at-least"})]}),"\n",(0,s.jsxs)(n.p,{children:["Setting this flag will make Conductor run all the relevant tasks that ",(0,s.jsx)(n.em,{children:"do not"}),"\nhave a cached version that is at least as new as the specified commit (see the\nreference for ",(0,s.jsx)(n.a,{href:"/conductor/task-types/run-experiment",children:(0,s.jsx)(n.code,{children:"run_experiment()"})})," for details on\nConductor's caching semantics). You can specify a commit using a hash, branch,\nor tag. The specified commit must be an ancestor of the current commit."]}),"\n",(0,s.jsxs)(n.p,{children:["This flag cannot be used with ",(0,s.jsx)(n.code,{children:"--again"})," (the two flags are not compatible). This\nflag also cannot be used if (i) Conductor's Git integration ",(0,s.jsx)(n.a,{href:"/conductor/configuration",children:"is disabled"}),",\n(ii) your project is not managed by Git, or (iii) if your repository is bare\n(there are no commits)."]}),"\n",(0,s.jsxs)(n.p,{children:["How does this flag differ from ",(0,s.jsx)(n.code,{children:"--again"}),"? When you set ",(0,s.jsx)(n.code,{children:"--again"}),", Conductor will\nalways re-run all the relevant tasks, regardless of the cache. With\n",(0,s.jsx)(n.code,{children:"--this-commit"}),", Conductor will only re-run relevant tasks that do not have a\ncached version that matches your repository's current commit (i.e., the value of\n",(0,s.jsx)(n.code,{children:"HEAD"}),"). This is useful when you need to restart dependent tasks that failed or\nwere aborted."]}),"\n",(0,s.jsx)(n.h3,{id:"--this-commit",children:(0,s.jsx)(n.code,{children:"--this-commit"})}),"\n",(0,s.jsxs)(n.p,{children:["Setting this flag is equivalent to setting ",(0,s.jsx)(n.code,{children:"--at-least=HEAD"}),". This flag cannot\nbe used with ",(0,s.jsx)(n.code,{children:"--again"}),". If you set ",(0,s.jsx)(n.code,{children:"--this-commit"}),", you also cannot set\n",(0,s.jsx)(n.code,{children:"--at-least"}),"."]}),"\n",(0,s.jsxs)(n.h3,{id:"-e-or---stop-early",children:[(0,s.jsx)(n.code,{children:"-e"})," or ",(0,s.jsx)(n.code,{children:"--stop-early"})]}),"\n",(0,s.jsx)(n.p,{children:"If set, Conductor will immediately stop executing a task if any dependent task\nfails. By default, if a dependent task fails, Conductor will still try to\nexecute the rest of the task's dependencies that do not depend on the failed\ntask."}),"\n",(0,s.jsxs)(n.h3,{id:"-j-or---jobs",children:[(0,s.jsx)(n.code,{children:"-j"})," or ",(0,s.jsx)(n.code,{children:"--jobs"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Usage:"})," ",(0,s.jsx)(n.code,{children:"-j [JOBS]"})," or ",(0,s.jsx)(n.code,{children:"--jobs [JOBS]"})]}),"\n",(0,s.jsxs)(n.p,{children:["The maximum number of tasks that Conductor can run in parallel. If this flag is\n",(0,s.jsx)(n.em,{children:"not"})," used, Conductor will always execute tasks sequentially. When this flag\n",(0,s.jsx)(n.em,{children:"is"})," used, Conductor may execute up to ",(0,s.jsx)(n.code,{children:"JOBS"})," tasks in parallel. Conductor will\nonly execute ",(0,s.jsx)(n.code,{children:"parallelizable"})," tasks in parallel (see the reference for\n",(0,s.jsx)(n.a,{href:"/conductor/task-types/run-experiment",children:(0,s.jsx)(n.code,{children:"run_experiment()"})}),")."]}),"\n",(0,s.jsxs)(n.p,{children:["If this flag is used without specifying a value, Conductor will set ",(0,s.jsx)(n.code,{children:"JOBS"})," to be\nthe number of virtual CPUs detected in the machine. This flag behaves\nanalogously to the ",(0,s.jsx)(n.code,{children:"-j"})," flag in ",(0,s.jsx)(n.code,{children:"make"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"--check",children:(0,s.jsx)(n.code,{children:"--check"})}),"\n",(0,s.jsxs)(n.p,{children:["When set, Conductor will parse and validate all tasks that would be executed but\nit will not actually execute the tasks. This flag is useful for checking that\ntasks are defined correctly in ",(0,s.jsx)(n.code,{children:"COND"})," files."]}),"\n",(0,s.jsxs)(n.h3,{id:"-h-or---help",children:[(0,s.jsx)(n.code,{children:"-h"})," or ",(0,s.jsx)(n.code,{children:"--help"})]}),"\n",(0,s.jsxs)(n.p,{children:["Prints a help message that provides details about how to use the ",(0,s.jsx)(n.code,{children:"cond run"}),"\nsubcommand."]}),"\n",(0,s.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Run //experiments:benchmark.\n$ cond run //experiments:benchmark\n\n# Run //experiments:benchmark, regardless if it has cached results available.\n$ cond run --again //experiments:benchmark\n\n# Run //experiments:benchmark if there are no cached results at least as new as commit abc123.\n$ cond run --at-least=abc123 //experiments:benchmark\n\n# Run //experiments:benchmark if there are no cached results for the current commit.\n$ cond run --this-commit //experiments:benchmark\n\n# Run //experiments:benchmark, stopping as soon as any dependent task fails.\n$ cond run --stop-early //experiments:benchmark\n\n# Run //experiments:benchmark, allowing at most 3 tasks to run in parallel at\n# any time.\n$ cond run -j 3 //experiments:benchmark\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);